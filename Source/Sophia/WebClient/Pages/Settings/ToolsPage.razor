@page "/Settings/Tools"
@rendermode InteractiveServer

<div class="container">
  <div class="container-header d-flex flex-row justify-content-start align-content-center mb-3">
    <h3 class="mb-1 mt-1 me-4">Tools Management</h3>
    <button type="button" class="btn btn-primary me-4" @onclick="Add">
      <i class="bi bi-plus-lg me-2"></i>Add a new tool
    </button>
    <button type="button" class="btn btn-secondary" @onclick="GoBack">
      <i class="bi bi-arrow-return-left me-2"></i>Back
    </button>
  </div>

  <div class="container-body">
    @if (_tools.Count == 0) {
      <p>No tools found.</p>
    }
    else {
      <table class="table">
        <thead>
          <tr class="row">
            <th class="col-2"></th>
            <th class="col-3">Name</th>
            <th class="col">Description</th>
          </tr>
        </thead>
        <tbody>
          @foreach (var tool in _tools) {
            <tr class="row">
              <td class="col-2">
                <button class="btn btn-primary btn-sm" @onclick="() => Edit(tool)">
                  <i class="bi bi-pencil"></i>
                </button>
                <button class="btn btn-danger btn-sm" @onclick="() => Delete(tool)">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
              <td class="col-3">
                <a class="btn btn-link px-0" @onclick="() => View(tool)">
                  @tool.Name
                </a>
              </td>
              <td class="col">@tool.Description</td>
            </tr>
          }
        </tbody>
      </table>
    }
  </div>
</div>

@if (_showDeleteConfirmationDialog) {
  <ConfirmationDialog Message="Are you sure you want to delete this tool?"
                      OnConfirm="ExecuteDelete"
                      OnCancel="CancelDelete" />
}
